/**
 * async.ensureasync - Wrap an async function and ensure it calls its callback on a later tick of the event loop.
 * @version v1.0.2
 * @link    https://github.com/Kikobeats/async.ensureasync
 * @license MIT
 */require=function e(n,t,r){function o(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[a]={exports:{}};n[a][0].call(f.exports,function(e){var t=n[a][1][e];return o(t?t:e)},f,f.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){function r(){f=!1,s.length?c=s.concat(c):l=-1,c.length&&o()}function o(){if(!f){var e=setTimeout(r);f=!0;for(var n=c.length;n;){for(s=c,c=[];++l<n;)s&&s[l].run();l=-1,n=c.length}s=null,f=!1,clearTimeout(e)}}function i(e,n){this.fun=e,this.array=n}function a(){}var s,u=n.exports={},c=[],f=!1,l=-1;u.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];c.push(new i(e,n)),1!==c.length||f||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],2:[function(e,n,t){function r(e,n){if("function"!=typeof e)throw new TypeError(o);return n=i(void 0===n?e.length-1:+n||0,0),function(){for(var t=arguments,r=-1,o=i(t.length-n,0),a=Array(o);++r<o;)a[r]=t[n+r];switch(n){case 0:return e.call(this,a);case 1:return e.call(this,t[0],a);case 2:return e.call(this,t[0],t[1],a)}var s=Array(n+1);for(r=-1;++r<n;)s[r]=t[r];return s[n]=a,e.apply(this,s)}}var o="Expected a function",i=Math.max;n.exports=r},{}],3:[function(e,n,t){(function(e,n){!function(n,t){"use strict";function r(e){return g[m]=o.apply(t,e),m++}function o(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function i(e){if(h)setTimeout(o(i,e),0);else{var n=g[e];if(n){h=!0;try{n()}finally{a(e),h=!1}}}}function a(e){delete g[e]}function s(){d=function(){var n=r(arguments);return e.nextTick(o(i,n)),n}}function u(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}function c(){var e="setImmediate$"+Math.random()+"$",t=function(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(e)&&i(+t.data.slice(e.length))};n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t),d=function(){var t=r(arguments);return n.postMessage(e+t,"*"),t}}function f(){var e=new MessageChannel;e.port1.onmessage=function(e){var n=e.data;i(n)},d=function(){var n=r(arguments);return e.port2.postMessage(n),n}}function l(){var e=v.documentElement;d=function(){var n=r(arguments),t=v.createElement("script");return t.onreadystatechange=function(){i(n),t.onreadystatechange=null,e.removeChild(t),t=null},e.appendChild(t),n}}function p(){d=function(){var e=r(arguments);return setTimeout(o(i,e),0),e}}if(!n.setImmediate){var d,m=1,g={},h=!1,v=n.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(n);y=y&&y.setTimeout?y:n,"[object process]"==={}.toString.call(n.process)?s():u()?c():n.MessageChannel?f():v&&"onreadystatechange"in v.createElement("script")?l():p(),y.setImmediate=d,y.clearImmediate=a}}("undefined"==typeof self?"undefined"==typeof n?this:n:self)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],"async.ensureasync":[function(e,n,t){"use strict";e("setimmediate");var r=e("lodash.restparam");n.exports=function(e){return r(function(n){var t=n.pop();n.push(function(){var e=arguments;r?setImmediate(function(){t.apply(null,e)}):t.apply(null,e)});var r=!0;e.apply(this,n),r=!1})}},{"lodash.restparam":2,setimmediate:3}]},{},[]);